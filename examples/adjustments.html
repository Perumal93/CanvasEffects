<!DOCTYPE html>
<html>
	<head>
		<title>CanvasEffect.js image adjustments</title>
		<script src="../CanvasEffects.min.js"></script>
		<script>
		var fx;
		
		function $(selector){
			return document.querySelector(selector);
		};
		
		window.onload = function(){
			fx = new CanvasEffects($('#pict'),{
				workerPath:'../CanvasEffects.worker.min.js'
			});
			$('#hue').addEventListener('change',function(){
				fx.restore().hue(this.value).save();
			},false);
			$('#sat').addEventListener('change',function(){
				fx.restore().saturation(parseFloat(this.value)).save();
			},false);
			$('#bright').addEventListener('change',function(){
				fx.restore().brightness(parseInt(this.value)).save();
			},false);
			$('#contrast').addEventListener('change',function(){
				fx.restore().contrast(parseInt(this.value)).save();
			},false);
			$('#gamma').addEventListener('change',function(){
				fx.restore().gamma(parseFloat(this.value)).save();
			},false);
			
			fx.load('pict.jpg');
			
			$('#save').addEventListener('click',function(){
				window.open(fx.toDataURL());
			},false);
		};
		</script>
	</head>
	
	<body>
		<canvas id="pict" width="670" height="503"></canvas>
		<div>
			<div>Hue: (Range 0 to 360)<input id="hue" type="range" min="0" max="360" step="1" value="0"/></div>
			<div>Saturation: (Range 0 to 1)<input id="sat" type="range" min="0" max="1" step="0.1" value="0"/></div>
			<hr>
			<div>Brightness: (Range 0 to 10)<input id="bright" type="range" min="0" max="10" step="1" value="0"/></div>
			<div>Contrast: (Range -10 to 10)<input id="contrast" type="range" min="-10" max="10" step="1" value="0"/></div>
			<div>Gamma: (Range 0 to 2)<input id="gamma" type="range" min="0" max="2" step="0.01" value="1"/></div>
			<a href="#" id="save">Save</a>
		</div>
	</body>
</html>